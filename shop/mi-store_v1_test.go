package shop_test

import (
	shop "jsapi-scraper/shop"
	"testing"
)

var miStoreV1Names = []string{
	"Poco F3 5G 8/256GB Moonlight Silver",
	"Poco F3 5G 8/256GB Ocean Blue",
	"Poco F4 8/256GB moonlight silver",
	"Poco F4 8/256GB nebula green",
	"Poco M5 4/128GB green",
	"Poco M5s 4/128GB grey",
	"POCO M5s 4/64GB blue",
	"POCO M5s 4/64GB grey",
	"Poco M5s 4/64GB white",
	"POCO X5 5G 6GB/128GB black",
	"POCO X5 5G 6GB/128GB blue",
	"Redmi 10 2022 4/128GB pebble white",
	"Redmi 10 2022 4/128GB sea blue",
	"Redmi 10 2022 Version 4/128GB carbon gray",
	"Redmi 12C 4GB/128GB graphite gray",
	"Redmi 12C 4GB/128GB mint green",
	"Redmi 12C 4GB/128GB ocean blue",
	"Redmi 9A 2/32GB aurora green",
	"Redmi A1 2/32GB light blue",
	"Redmi A1 2/32GB light green",
	"Redmi A2 2GB/32GB black",
	"Redmi A2 2GB/32GB light blue",
	"Redmi A2 2GB/32GB light green",
	"Redmi Note 11 4/128GB star blue",
	"Redmi Note 11 4/128GB twilight blue",
	"Redmi Note 11 Pro 5G 6/128GB atlantic blue",
	"Redmi Note 11 Pro 5G 6/128GB polar white",
	"Redmi Note 11 Pro 5G 6GB/128GB Graphite Gray",
	"Redmi Note 11S 6/128GB graphite gray",
	"Redmi Note 12 4G 4GB/128GB ice blue",
	"Redmi Note 12 4G 4GB/128GB onyx gray",
	"Redmi Note 12 5G 4GB/128GB ice blue",
	"Redmi Note 12 5G 4GB/128GB onyx gray",
	"Redmi Note 12 Pro 5G 6GB/128GB midnight black",
	"Redmi Note 12 Pro 5G 6GB/128GB sky blue",
	"Redmi Note 12 Pro+ 5G 8GB/256GB midnight black",
	"Redmi Note 12 Pro+ 5G 8GB/256GB polar white",
	"Xiaomi 11T 5G Celestial Blue 8/128GB",
	"Xiaomi 11T 5G Meteorite Gray 8/128GB",
	"Xiaomi 12 Lite 8GB/128GB lite green",
	"Xiaomi 12 Lite 8GB/128GB lite pink",
	"Xiaomi 12T Pro 8/256GB silver",
	"Xiaomi 13 8GB/256GB black",
	"Xiaomi 13 8GB/256GB white",
	"Xiaomi 13 Lite 8GB/128GB black",
	"Xiaomi 13 Lite 8GB/128GB blue",
	"Xiaomi 13 Lite 8GB/128GB pink",
	"Xiaomi 13 Pro 12GB/256GB ceramic black",
}

var miStoreV1NamesExpected = []string{
	"Xiaomi POCO F3",
	"Xiaomi POCO F3",
	"Xiaomi POCO F4",
	"Xiaomi POCO F4",
	"Xiaomi POCO M5",
	"Xiaomi POCO M5s",
	"Xiaomi POCO M5s",
	"Xiaomi POCO M5s",
	"Xiaomi POCO M5s",
	"Xiaomi POCO X5",
	"Xiaomi POCO X5",
	"Xiaomi Redmi 10",
	"Xiaomi Redmi 10",
	"Xiaomi Redmi 10",
	"Xiaomi Redmi 12C",
	"Xiaomi Redmi 12C",
	"Xiaomi Redmi 12C",
	"Xiaomi Redmi 9A",
	"Xiaomi Redmi A1",
	"Xiaomi Redmi A1",
	"Xiaomi Redmi A2",
	"Xiaomi Redmi A2",
	"Xiaomi Redmi A2",
	"Xiaomi Redmi Note 11",
	"Xiaomi Redmi Note 11",
	"Xiaomi Redmi Note 11 Pro",
	"Xiaomi Redmi Note 11 Pro",
	"Xiaomi Redmi Note 11 Pro",
	"Xiaomi Redmi Note 11S",
	"Xiaomi Redmi Note 12",
	"Xiaomi Redmi Note 12",
	"Xiaomi Redmi Note 12",
	"Xiaomi Redmi Note 12",
	"Xiaomi Redmi Note 12 Pro",
	"Xiaomi Redmi Note 12 Pro",
	"Xiaomi Redmi Note 12 Pro+",
	"Xiaomi Redmi Note 12 Pro+",
	"Xiaomi 11T",
	"Xiaomi 11T",
	"Xiaomi 12 Lite",
	"Xiaomi 12 Lite",
	"Xiaomi 12T Pro",
	"Xiaomi 13",
	"Xiaomi 13",
	"Xiaomi 13 Lite",
	"Xiaomi 13 Lite",
	"Xiaomi 13 Lite",
	"Xiaomi 13 Pro",
}

func TestMiStoreV1Clean(t *testing.T) {
	for i, name := range miStoreV1Names {
		if _name := shop.MiStoreV1CleanFn(name); _name != miStoreV1NamesExpected[i] {
			t.Errorf("given name \"%s\" not match expected name \"%s\"\n%s\n", _name, miStoreV1NamesExpected[i], name)
		}
	}
}
